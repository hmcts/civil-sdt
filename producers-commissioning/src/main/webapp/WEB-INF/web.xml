<web-app id="sdt" version="2.4" 
	xmlns="http://java.sun.com/xml/ns/j2ee" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee 
	http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">
 
	<display-name>SDT Commissioning application</display-name>
	
    <!-- This defines the locations of the Spring config files that make up the web application context. -->
    <context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>
			/WEB-INF/applicationContext.xml,
            classpath*:uk/gov/moj/**/spring*.xml
        </param-value>
    </context-param>

    <!-- This defines webapp.root for log4j -->
    <context-param>
        <param-name>webAppRootKey</param-name>
        <param-value>producer-comx.root</param-value>
    </context-param>

    <!-- Listener to initialise Log4J. This is defined prior to the Spring context loader to ensure that logging starts
up as early as possible to ease diagnosis of Spring context initialisation issues. -->
    <listener>
        <listener-class>
            org.springframework.web.util.Log4jConfigListener
        </listener-class>
    </listener>

    <!-- Listener to initialise the Spring context - reads config from 'contextConfigLocation'. -->
    <listener>
        <listener-class>
            org.springframework.web.context.ContextLoaderListener
        </listener-class>
    </listener>
    
	<!-- Servlet to handle CXF Web Services  - necessary in all application exposing web service endpoints -->
	<servlet>
    	<servlet-name>cxfServlet</servlet-name>
    	<servlet-class>org.apache.cxf.transport.servlet.CXFServlet</servlet-class>
  	</servlet>
 
	<!-- Pattern to reach web service endpoint -->
	<servlet-mapping>
        <servlet-name>cxfServlet</servlet-name>
        <url-pattern>/service/*</url-pattern>
    </servlet-mapping>
 
</web-app>